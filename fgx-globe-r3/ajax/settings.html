<!doctype html>
<html lang='en'>
<head>
<title></title>
<meta charset='utf-8'>
</head>
<body>

	<p>Theme: 
	<select id='select1' onchange='$.elements.thm.select = this.selectedIndex; $.elements.thm.name = $.theme_names[ this.selectedIndex ]; $.setHash(); '>
	</select></p>
	
	<p>Globe: 
	
	<select id="selectGlobe" onchange="updateTexture( this.selectedIndex );">
	</select></p>	

<script>
		var select = document.getElementById("select1");
		
		$.theme_names = ["base","black-tie","blitzer","cupertino","dark-hive","dot-luv","eggplant","excite-bike","flick",
			"hot-sneaks","humanity","le-frog","mint-choc","overcast","pepper-grinder","redmond","smoothness","south-street",
			"start","sunny","swanky-purse","trontastic","ui-darkness","ui-lightness","vader"];
			
		var option;
		
		for (var sel, i = 0, len = $.theme_names.length; i < len; i++) {
			option = document.createElement( 'option' );
			option.innerText = $.theme_names[i];
			select.appendChild( option );
			if ( i === Number($.elements.thm.select) ) option.selected = true; 
		}

		var globeTextures = ["world.jpg", "earth_atmos_2048.jpg","world-map.jpg"];
		
		for (var sel, i = 0, len = globeTextures.length; i < len; i++) {
			option = document.createElement( 'option' );
			option.innerText = globeTextures[i];
			selectGlobe.appendChild( option );
			// if ( i === Number($.elements.thm.select) ) option.selected = true; 
			
		}		
		$.texture = "../textures/world.jpg";
		
		function updateTexture( id ) {
			$.texture = "../textures/" + globeTextures[ id ];
			var vr = $.ifr.contentWindow;
			
			$.tmat = $.ifr.contentWindow['material'];
			$.tthr = $.ifr.contentWindow['THREE'];
			$.tsce = $.ifr.contentWindow['scene'];
			$.tgeo = $.ifr.contentWindow['geometry'];
			$.tmsh = $.ifr.contentWindow['mesh'];
			
			var texture = $.tthr.ImageUtils.loadTexture( $.texture);
			$.tmat = new $.tthr.MeshBasicMaterial( { map: texture } );
	
			$.tsce.remove( $.tmsh );
			$.tmsh = new $.tthr.Mesh( $.tgeo, $.tmat );
			$.tsce.add( $.tmsh );
		}
		
</script>
</body>
</html>